# 软件体系结构建模

研究软件体系结构的首要问题是如何表示软件体系结构，即如何对软件体系结构建模。根据建模的侧重点不同，可以将软件体系结构的模型分为5种：结构模型、框架模型、动态模型、过程模型和功能模型。常用的是结构模型和动态模型。

+ 结构模型。这种方法以体系结构的构件、连接件和其他概念来刻画结构。研究结构模型的核心是体系结构描述语言。
+ 框架模型。与结构模型类似，但是它不侧重描述结构的细节而更侧重于整体的结构。
+ 动态模型。动态模型是对结构或框架模型的补充，研究系统的“大颗粒”的行为性质。例如，描述系统的重新配置或演化。这类系统通常是激励型的。
+ 过程模型。过程模型研究构造系统的步骤和过程，因而结构是遵循某些过程脚本的结果。
+ 功能模型。功能模型认为体系结构是由一组功能构件按层次组成，下层向上层提供服务。可以看作是一种特殊的框架模型。

## “4+1”视图模型

软件体系结构的5种模型各有所长，将5种模型有机地结合在一起，形成一个完整的模型来刻画软件体系结构更加合适。例如“4+1”视图模型，从5个不同的视角描述软件体系结构，5个视图结合在一起才能反映系统的软件体系结构的全部内容。

![](/Users/SnowWolf7/Desktop/软件工程/书籍/软件体系结构 原理、方法与实践/图/4+1视图.png)

## 软件体系结构的核心模型

综合软件体系结构的概念，体系结构的核心模型由5种元素组成：构件、连接件、配置、端口和角色。其中，构件、连接件和配置是最基本的元素。

+ 构件是具有某种功能的可重用的软件模版单元，表示了系统中主要的计算元素和数据存储。构件有两种：复合构件和原子构件。
+ 连接件表示了构件之间的相互交互，简单的连接件如管道、过程调用、事件广播等，复杂的交互如客户端-服务器通信协议，数据库和应用之间的SQL连接等。
+ 配置表示了构件和连接件的拓扑逻辑和约束。

构件作为一个封装的实体，只能通过接口和外部环境交互，构件的接口由一组端口组成，每个端口表示了构件和外部环境的交互点。

连接件也有接口，连接件的接口由一组角色组成，连接件的每个角色定义了该连接件表示的交互的参与者，二元连接有两个角色，例如RPC的角色为caller和callee，pipe的角色为reading和writing，消息传递的连接件的角色是sender和receiver。