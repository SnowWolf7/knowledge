## 6 树和森林

### 6.1 树的概念

### 6.2 二叉树

### 6.3 二叉树的存储结构

任何一种数据结构一般都有两种不同的存储结构：顺序存储结构和非顺序存储结构。二叉树的顺序存储结构为数组表示法，非顺序存储结构为链表表示法。

#### 6.3.1 数组表示法

#### 6.3.2 链表表示法

### 6.4 遍历二叉树

### 6.5 线索二叉树

### 6.6 二叉树的应用

#### 6.6.1 堆

##### 1. 堆的定义

设有n个数据元素的关键字为$(k_0, k_1,..., k_{n-1})$ ，如果它们满足以下关系：$k_i <= k_{2i+1}$ 且 $k_i <= k_{2i+2}$ （或 $k_i >= k_{2i+1}$ 且 $k_i >= k_{2i+2}$（$i = 0,1,...,\lfloor(n-2)/2\rfloor$ ,则称之为堆（heap）。

##### 2. 堆的构造

堆一般有两个构造函数，其中一个构造函数建立一个空间大小为maxSize的空堆；另一个构造函数接受一个数组并将其调整形成一个堆。

调整过程采用向下逐步调整形成堆的方法。

##### 3. 在堆中插入元素

规定数据元素总是插在已经建成的堆的最后面，然后从该元素向上调整形成堆。

##### 4. 在堆中删除元素

此处删除的元素是堆顶元素。从堆顶删除元素后，一般把堆的最后一个元素移动堆顶，并将堆的当前元素个数-1，然后从堆顶向下调整成堆。

#### 6.6.2 哈夫曼树

##### 1. 哈夫曼树的基本概念

+ 路径：在一棵二叉树中由根结点到某个结点所经过的分支序列。
+ 路径长度：由根结点到某个结点所经过的分支数。
+ 二叉树的路径长度：由根结点到所有叶结点到路径长度之和。

设一棵具有n个带权值叶结点的二叉树，那么从根结点到各个叶结点的路径长度与对应叶结点权值的乘积之和叫做二叉树的带权路径长度，记作$WPL =  \displaystyle \sum^{n}_{k=1}{{W_k} \ast {L_k}}$. 其中，$W_k$为第k个叶结点的权值，$L_k$为根结点到第k个叶结点的路径长度。

如果给定一组具体确定权值的叶结点，可以构造出的不同形态二叉树的带权路径长度并不相同。在此把其中具有最小带权路径长度的二叉树称为最优二叉树，最优二叉树也称为哈夫曼树。

根据哈夫曼树的定义，要想使WPL值最小，显然必须使权值越大的叶结点越靠近根结点。如何构造一个哈夫曼树呢？哈夫曼最早提出了一种方法，步骤如下：

1. 由给定的n个权值${W_1,W_2,...,W_n}$ 构造n棵只有一个根结点（亦为叶结点）的二叉树，从而得到一个森林 $F = {T_1,T_2,...,T_n}$ 。
2. 在F中选取两棵根结点的权值最小的二叉树$T_i、T_j$，以$T_i$和$T_j$作为左右子树构造一棵新的二叉树$T_k$。置新的二叉树$T_k$的根结点的权值为其左右子树上根结点的权值之和。
3. 在F中删去二叉树$T_i、T_j$，并把新的二叉树$T_k$加入F。
4. 重复2、3，直到F中仅剩下一棵树为止。

##### 2. 哈夫曼树在编码问题中的应用

相较于等长编码，哈夫曼编码可以构造出使电文代码总长最短的编码方案。

### 6.7 树和森林

####6.7.1 树的存储结构

##### 1. 双亲表示法

##### 2. 孩子表示法

##### 3. 双亲孩子表示法

##### 4. 孩子-兄弟表示法

#### 6.7.2 树、森林和二叉树的转换

##### 1. 树转化为二叉树

由树的孩子-兄弟表示法得到启发，可以将树转化为二叉树。转化后的二叉树中，左分支上的各结点在原树中是父子关系，右分支上的各结点在原树中是兄弟关系。

##### 2. 森林转化为二叉树

### 6.8 等价类及其表示